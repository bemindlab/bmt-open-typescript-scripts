# ЁЯУЭ р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕З generate-commit-summary.ts

**р╕Ьр╕╣р╣Йр╣Ар╕Вр╕╡р╕вр╕Щ:** BemindLab
**р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Ар╕Вр╕╡р╕вр╕Щ:** 2025-04-29
**р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ:** 1.0.1

## ЁЯУЛ р╕кр╕▓р╕гр╕Ър╕▒р╕Н
1. [р╕ар╕▓р╕Юр╕гр╕зр╕б](#р╕ар╕▓р╕Юр╕гр╕зр╕б)
2. [р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З](#р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З)
3. [р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ](#р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ)
4. [р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ](#р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ)
5. [р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З](#р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З)
6. [р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З](#р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З)

## ЁЯУЛ р╕кр╕гр╕╕р╕Ыр╕ар╕▓р╕Юр╕гр╕зр╕б
р╣Др╕Яр╕ер╣М `generate-commit-summary.ts` р╣Ар╕Ыр╣Зр╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕г commit р╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ р╣Вр╕Фр╕вр╕Ир╕░р╕гр╕зр╕Ър╕гр╕зр╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б commit р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ р╕кр╕гр╣Йр╕▓р╕З prompt р╕кр╕│р╕лр╕гр╕▒р╕Ъ AI р╣Бр╕ер╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Др╕Яр╕ер╣М Markdown

## ЁЯФН р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕лр╕ер╕▒р╕Б

### 1. `getAuthorInfo()`
- р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Ар╕Вр╕╡р╕вр╕Щ commit
- р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Др╕Фр╣Й: р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Ар╕Вр╕╡р╕вр╕Щр╣Бр╕ер╕░р╕нр╕╡р╣Ар╕бр╕е
- р╣Гр╕Кр╣Йр╕Др╕│р╕кр╕▒р╣Ир╕З git config р╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

### 2. `getChangedFiles()`
- р╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╣Гр╕Щ staging area
- р╣Гр╕Кр╣Йр╕Др╕│р╕кр╕▒р╣Ир╕З `git diff --cached --name-only`

### 3. `generatePrompt()`
- р╕кр╕гр╣Йр╕▓р╕З prompt р╕кр╕│р╕лр╕гр╕▒р╕Ъ AI
- р╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕Фр╣Йр╕зр╕в:
  - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Ар╕Вр╕╡р╕вр╕Щ
  - р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З
  - р╕Др╕│р╕Вр╕нр╣Гр╕лр╣Йр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З

### 4. `saveSummary()`
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕гр╕╕р╕Ыр╕ер╕Зр╣Гр╕Щр╣Др╕Яр╕ер╣М Markdown
- р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М `__development_logs__/commit_summaries`
- р╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣Мр╕Хр╕▓р╕бр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Бр╕ер╕░р╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╕кр╕гр╕╕р╕Ы
```markdown
# р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕г Commit

## р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф Commit
- **р╕Ьр╕╣р╣Йр╣Ар╕Вр╕╡р╕вр╕Щ:** [author name]
- **р╕нр╕╡р╣Ар╕бр╕е:** [author email]

## р╕кр╕гр╕╕р╕Ыр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Фр╕в AI
[р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕кр╕гр╕╕р╕Ыр╕Ир╕▓р╕Б AI]

## р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З
[р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Др╕Яр╕ер╣М]
```

## ЁЯФД р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣Мр╣Гр╕Щ staging area
2. р╕кр╕гр╣Йр╕▓р╕З prompt р╕кр╕│р╕лр╕гр╕▒р╕Ъ AI
3. р╕гр╕нр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕гр╕╕р╕Ыр╕Ир╕▓р╕Бр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
4. р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕гр╕╕р╕Ыр╕ер╕Зр╣Др╕Яр╕ер╣М
5. р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Яр╕ер╣Мр╕кр╕гр╕╕р╕Ыр╣Ар╕Вр╣Йр╕▓ git
6. commit р╣Бр╕ер╕░ push р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З

## тЪая╕П р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕
- р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╣Др╕Яр╕ер╣Мр╣Гр╕Щ staging area р╕Бр╣Ир╕нр╕Щр╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣М
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ LLM р╕Хр╣Ир╕▓р╕Зр╣Ж (р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й implement)
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╕Кр╕╖р╣Ир╕нр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╣Бр╕ер╕░р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Др╕Яр╕ер╣Мр╣Др╕Фр╣Й

## ЁЯФз р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Кр╕╖р╣Ир╕нр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М `__development_logs__` р╣Бр╕ер╕░ `commit_summaries`
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ prompt р╣Бр╕ер╕░р╣Др╕Яр╕ер╣Мр╕кр╕гр╕╕р╕Ыр╣Др╕Фр╣Й
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ LLM р╕Хр╣Ир╕▓р╕Зр╣Ж

## р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З
1. **р╕Бр╕▓р╕гр╣Ар╕Хр╕гр╕╡р╕вр╕бр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕б**
   - р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╣Др╕Яр╕ер╣Мр╣Гр╕Щ staging area р╕Бр╣Ир╕нр╕Щр╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣М
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╣Ар╕Вр╕╡р╕вр╕Щр╣Др╕Яр╕ер╣М
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ git repository

2. **р╕Вр╣Йр╕нр╕Ир╕│р╕Бр╕▒р╕Ф**
   - р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ LLM р╕Хр╣Ир╕▓р╕Зр╣Ж (р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й implement)
   - р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕нр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Др╕Яр╕ер╣Мр╕кр╕гр╕╕р╕Ы
   - р╕нр╕▓р╕Ир╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щр╣Гр╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕кр╕гр╕╕р╕Ыр╕лр╕▓р╕Бр╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕бр╕▓р╕Б

## р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З

### 1. р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М
```typescript
const summaryDir = path.join(
    process.cwd(),
    "__development_logs__", //TODO: р╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕нр╣Др╕Фр╣Йр╕Хр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
    "commit_summaries" //TODO: р╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕нр╣Др╕Фр╣Йр╕Хр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
);
```

### 2. р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З Prompt
```typescript
function generatePrompt(authorInfo: AuthorInfo, changedFiles: string[]): string {
  return `р╕Бр╕гр╕╕р╕Ур╕▓р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕гр╕╕р╕Ыр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Вр╕нр╕З commit р╕Хр╣Ир╕нр╣Др╕Ыр╕Щр╕╡р╣Й:

Author: ${authorInfo.author}
Email: ${authorInfo.email}

р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З:
${changedFiles.map((file) => `- ${file}`).join("\n")}

р╕Бр╕гр╕╕р╕Ур╕▓р╣Гр╕лр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Фр╕▒р╕Зр╕Щр╕╡р╣Й:
1. р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕гр╕░р╕Кр╕▒р╕Ъ
2. р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Чр╕╡р╣Ир╕кр╕│р╕Др╕▒р╕Нр╣Гр╕Щр╣Бр╕Хр╣Ир╕ер╕░р╣Др╕Яр╕ер╣М
3. р╕Ьр╕ер╕Бр╕гр╕░р╕Чр╕Ър╕Чр╕╡р╣Ир╕нр╕▓р╕Ир╣Ар╕Бр╕┤р╕Фр╕Вр╕╢р╣Йр╕Щр╕Ир╕▓р╕Бр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╣Ар╕лр╕ер╣Ир╕▓р╕Щр╕╡р╣Й
4. р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Чр╕╡р╣Ир╕нр╕▓р╕Ир╕Чр╕│р╣Гр╕лр╣Йр╣Ар╕Бр╕┤р╕Фр╕Ыр╕▒р╕Нр╕лр╕▓ (breaking changes) р╕лр╕гр╕╖р╕нр╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕р╕кр╕│р╕Др╕▒р╕Н`;
}
```

### 3. р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕б LLM Provider
```typescript
//TODO: р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ъ LLM р╣Ар╕Кр╣Ир╕Щ OpenAI, Cursor AI, Claude AI, р╕нр╕╖р╣Ир╕Щр╣Ж.
```

## р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕
- р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Щр╕╡р╣Йр╕Др╕зр╕гр╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ
- р╕лр╕▓р╕Бр╕Юр╕Ър╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕лр╕гр╕╖р╕нр╕бр╕╡р╕Вр╣Йр╕нр╣Ар╕кр╕Щр╕нр╣Бр╕Щр╕░ р╕Бр╕гр╕╕р╕Ур╕▓р╣Бр╕Ир╣Йр╕Зр╣Гр╕лр╣Йр╕Чр╕гр╕▓р╕Ъ
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Хр╕▓р╕бр╕Др╕зр╕▓р╕бр╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Вр╕нр╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Д
